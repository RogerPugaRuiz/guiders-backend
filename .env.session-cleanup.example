# ========================================
# CONFIGURACIÓN DE PRESENCIA Y SESIONES
# ========================================
# Sistema automático de gestión de estados de presencia (away/offline)
# y limpieza de sesiones expiradas para visitantes

# ----------------------------------------
# 1. DETECCIÓN DE INACTIVIDAD (AWAY)
# ----------------------------------------
# Scheduler que detecta inactividad y cambia estado a 'away'
# Ejecuta cada 1 minuto

# Habilitar/deshabilitar detección de inactividad
# PRESENCE_INACTIVITY_ENABLED=true

# Minutos de inactividad antes de cambiar a 'away'
# PRESENCE_INACTIVITY_MINUTES=1
# Valores recomendados:
#   - Desarrollo/Testing: 1 minuto (más rápido para testing)
#   - Producción: 5 minutos (menos agresivo)

# ----------------------------------------
# 2. TIMEOUTS DE SESIÓN (OFFLINE)
# ----------------------------------------
# Timeouts para diferentes tipos de visitantes (en milisegundos)
# Cuando una sesión expira SIN actividad, el visitante pasa a 'offline'

# Visitantes ANON (anónimos, sin identificar)
# SESSION_TIMEOUT_SHORT=120000
# Valores: 120000ms = 2 min (default desarrollo), 300000ms = 5 min (producción)

# Visitantes ENGAGED (identificados, con interacción)
# SESSION_TIMEOUT_MEDIUM=300000
# Valores: 300000ms = 5 min (default desarrollo), 900000ms = 15 min (producción)

# Visitantes LEAD (con información de contacto)
# SESSION_TIMEOUT_LONG=600000
# Valores: 600000ms = 10 min (default desarrollo), 1800000ms = 30 min (producción)

# Visitantes CONVERTED (clientes convertidos)
# SESSION_TIMEOUT_EXTENDED=900000
# Valores: 900000ms = 15 min (default desarrollo), 3600000ms = 60 min (producción)

# ----------------------------------------
# 3. LIMPIEZA DE SESIONES
# ----------------------------------------
# Scheduler que cierra sesiones expiradas
# Ejecuta cada 5 minutos

# Habilitar/deshabilitar el sistema de limpieza automática
# SESSION_CLEANUP_ENABLED=true

# Tamaño del lote para procesar visitantes en cada ejecución
# SESSION_CLEANUP_BATCH_SIZE=100

# ----------------------------------------
# 4. FLUJO COMPLETO (Ejemplo ANON)
# ----------------------------------------
# Tiempo 0:00  → Visitante ONLINE, última actividad
# Tiempo 1:00  → PresenceInactivityScheduler detecta inactividad
#                 Estado: ONLINE → AWAY
# Tiempo 2:00  → Sesión expira (120000ms = 2 min sin actividad)
# Tiempo 5:00  → SessionCleanupScheduler cierra sesión expirada
#                 Estado: AWAY → OFFLINE
#
# Total: Máximo 7 minutos desde última actividad hasta OFFLINE
#   - 1 min hasta AWAY (PRESENCE_INACTIVITY_MINUTES)
#   - 2 min timeout de sesión (SESSION_TIMEOUT_SHORT)
#   - 5 min espera del scheduler (ejecución cada 5 min)
#   = 1 + 2 + 5 = 8 min máximo
#
# IMPORTANTE: El tiempo real depende del momento en que se ejecuten los schedulers

# ----------------------------------------
# 5. RECOMENDACIONES POR ENTORNO
# ----------------------------------------

# DESARROLLO/TESTING (valores rápidos para testing):
# PRESENCE_INACTIVITY_MINUTES=1
# SESSION_TIMEOUT_SHORT=120000     # 2 min
# SESSION_TIMEOUT_MEDIUM=300000    # 5 min
# SESSION_TIMEOUT_LONG=600000      # 10 min
# SESSION_TIMEOUT_EXTENDED=900000  # 15 min

# PRODUCCIÓN (valores más conservadores):
# PRESENCE_INACTIVITY_MINUTES=5
# SESSION_TIMEOUT_SHORT=300000     # 5 min
# SESSION_TIMEOUT_MEDIUM=900000    # 15 min
# SESSION_TIMEOUT_LONG=1800000     # 30 min
# SESSION_TIMEOUT_EXTENDED=3600000 # 60 min